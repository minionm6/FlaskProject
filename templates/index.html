{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="row justify-content-center fade-in">
    <div class="col-lg-8">
        <div class="card card-dark mb-4">
            <div class="card-header card-header-dark">
                <h4 class="mb-0">
                    <i class="bi bi-activity me-2"></i>Ping Diagnostic Tool
                </h4>
            </div>
            <div class="card-body p-4">
                <p class="text-secondary mb-4">
                    Enter an IP address to check its availability and network response time.
                </p>
                
                <form method="post" class="row g-3">
                    <div class="col-md-8">
                        <div class="input-group">
                            <span class="input-group-text bg-dark border-secondary">
                                <i class="bi bi-ip"></i>
                            </span>
                            <input type="text" 
                                   name="ip" 
                                   class="form-control form-control-dark" 
                                   placeholder="e.g., 192.168.1.1 or 8.8.8.8"
                                   value="{{ request.form.ip if request.form.ip else '10.10.0.187' }}"
                                   required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="bi bi-send-check me-2"></i>Start Ping
                        </button>
                    </div>
                </form>

                {% if output %}
                <div class="mt-4 pt-3 border-top border-secondary">
                    <h6 class="text-white mb-3">
                        <i class="bi bi-clipboard-check me-2"></i>Results
                    </h6>
                    <div class="log-container p-3">
                        <div class="log-entry">
                            <div class="d-flex justify-content-between mb-2">
                                <span class="log-time">
                                    <i class="bi bi-clock me-1"></i>{{ now.strftime('%H:%M:%S') if now else '' }}
                                </span>
                                <span class="badge 
                                    {% if 'REACHABLE' in output %}bg-success
                                    {% elif 'UNREACHABLE' in output %}bg-warning
                                    {% else %}bg-danger{% endif %}">
                                    {{ output.split(']')[0][1:] if ']' in output else 'INFO' }}
                                </span>
                            </div>
                            <code class="d-block mt-2 {% if 'REACHABLE' in output %}log-success{% elif 'UNREACHABLE' in output %}log-warning{% else %}log-error{% endif %}">
                                {{ output }}
                            </code>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Статистика -->
        
    </div>
</div>
{% endblock %}